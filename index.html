<html><head><title>打开小程序</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"><link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/2.4.1/weui.min.css"><style>.hidden{display:none}.full{position:absolute;top:0;bottom:0;left:0;right:0}.public-web-container{display:flex;flex-direction:column;align-items:center}.public-web-container p{position:absolute;top:40%}.public-web-container a{position:absolute;bottom:40%}.wechat-web-container{display:flex;flex-direction:column;align-items:center}.wechat-web-container p{position:absolute;top:40%}.wechat-web-container wx-open-launch-weapp{position:absolute;bottom:40%;left:0;right:0;display:flex;flex-direction:column;align-items:center}.desktop-web-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.desktop-web-container p{margin-top:30px}</style><script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script><script src="./qrcode.min.js"></script></head><body><div class="page full"><div id="public-web-container" class="hidden"><p id="public-web-jump-button-loading-text" class="">正在打开 “小程序”...</p><a id="public-web-jump-button" href="javascript:" class="weui-btn weui-btn_primary weui-btn_loading" onclick="openWeapp()"><span id="public-web-jump-button-loading-icon" class="weui-primary-loading weui-primary-loading_transparent"><i class="weui-primary-loading__dot"></i> </span>打开小程序</a></div><div id="wechat-web-container" class="hidden"><p class="">点击以下按钮打开 "安信证券新股小程序"</p><wx-open-launch-weapp id="launch-btn" username="小程序原始id" path="页面路径"><template><style>button{width:200px;height:45px;text-align:center;font-size:17px;display:block;margin:0 auto;padding:8px 24px;border:none;border-radius:4px;background-color:#07c160;color:#fff}</style><button>打开小程序</button></template></wx-open-launch-weapp></div><div id="desktop-web-container" class="hidden"><div id="qrcode"></div><p class="">请在手机打开网页链接</p></div></div><script>const getURLScheme=(e,t)=>new Promise((e,t)=>{setTimeout(()=>{e("weixin://dl/business/?xxxxxx")},10)}),openWeapp=async e=>{const t=await new Promise((e,t)=>{setTimeout(()=>{e("weixin://dl/business/?xxxxxx")},10)});e&&e(),location.href=t},getWXConfig=async()=>{const e=window.location.href.split("#")[0],t=await fetch("https://api?&url="+decodeURI(e),{method:"POST"}),n=(await t.json()).data,i={appId:"小程序Appid",timestamp:0,nonceStr:"nonceStr",signature:"signature"};return n&&(i.appId=n.appId,i.timestamp=n.timestamp,i.nonceStr=n.nonceStr,i.signature=n.signature),i},start=async()=>{const e=navigator.userAgent.toLowerCase(),t=!("wxwork"==e.match(/wxwork/i))&&"micromessenger"==e.match(/MicroMessenger/i);let n=!1,i=!1;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|IEMobile)/i)?n=!0:i=!0,i){const e=document.getElementById("desktop-web-container");e.classList.remove("hidden"),e.classList.add("full","desktop-web-container"),new QRCode("qrcode",{text:document.URL,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}else if(t){const e=document.getElementById("wechat-web-container");e.classList.remove("hidden"),e.classList.add("full","wechat-web-container");document.getElementById("launch-btn").addEventListener("error",(function(e){console.log("用户拒绝跳转或跳转异常",e.detail)})),isOk()||alert("您的手机不支持在微信内部跳转，要求微信7.0.12及以上。 系统版本要求为：iOS 10.3及以上、Android 5.0及以上");const t=await getWXConfig();wx.config({...t,jsApiList:["chooseImage"],openTagList:["wx-open-launch-weapp"]})}else{const e=document.getElementById("public-web-container");e.classList.remove("hidden"),e.classList.add("full","public-web-container");const t=document.getElementById("public-web-jump-button"),n=document.getElementById("public-web-jump-button-loading-icon"),i=document.getElementById("public-web-jump-button-loading-text");try{await openWeapp(()=>{t.classList.remove("weui-btn_loading"),n.classList.add("hidden"),i.classList.add("hidden")})}catch(e){}}},isOk=function(){var e=navigator.userAgent.match(/MicroMessenger\/([\d\\.]+)/i),t=navigator.userAgent.toLowerCase();if(!e)return!1;if(e[1]<"7.0.12")return!1;if(/android/i.test(navigator.userAgent)){const e=/android\s([\w.]+)/.exec(t);let n=e&&e[1].split(".")[0];return n=Number(n),n>=5}if(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)){const e=/os\s([\w_]+)/.exec(t);var n=e&&e[1].split("_")[0]+"."+e[1].split("_")[1];return(n=Number(n))>=10.4}return!0};start()</script></body></html>